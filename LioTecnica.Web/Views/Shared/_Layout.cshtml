<!doctype html>
<html lang="pt-br">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>@ViewData["Title"]</title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">
	<link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
</head>
<body>
	<div id="globalLoading" class="loading-overlay active" aria-live="polite" aria-busy="true">
		<div class="panel">
			<div class="spinner-border text-primary" role="status" aria-hidden="true"></div>
			<div>Aguarde. Carregando..</div>
		</div>
	</div>

	<!-- MOBILE SIDEBAR OFFCANVAS -->
	@await Html.PartialAsync("_OffcanvasSidebar")
	@await Html.PartialAsync("_ModalNotifications")

	<div class="app-shell">
		<!-- DESKTOP SIDEBAR -->
		<aside class="sidebar d-none d-lg-block">
			<div class="sidebar-inner">
				<div class="brand">
					<img id="logoDesktop" alt="Ambiente DEV" src="https://ugc.production.linktr.ee/cR5FRLAQhMjM5iY6KkQV_N7guc4j7zk8o2yfc?io=true&size=avatar-v3_0">
					<div class="title">
						<strong>Portal RH</strong>
						<span>@ViewHelpers.SidebarSubtitle(ViewData)</span>
					</div>
				</div>

				<div class="sidebar-scroll">
					@await Component.InvokeAsync("MainMenu")
				</div>

				<div class="sidebar-footer">
					<div class="d-flex align-items-center justify-content-between gap-2">
						<div class="small" style="opacity:.92;">
							<div class="fw-semibold">Ambiente</div>
							<div class="opacity-75">DEV â€¢ Postgres</div>
						</div>
						<span class="pill"><i class="bi bi-shield-check"></i>LGPD</span>
					</div>
				</div>
			</div>
		</aside>

		<!-- MAIN -->
		<main class="main">
			<header class="topbar">
				<div class="topbar-inner">
					@RenderSection("Topbar", required: true)
				</div>
			</header>

			@RenderBody()

			<footer class="footer">
				@RenderSection("Footer", required: true)
			</footer>
		</main>
	</div>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
	<script>
		window.__enumData = {};
		window.__enumDataLoaded = false;
		window.__enumsUrl = "@Url.Content("~/api/lookup/enums")";
		window.__healthUrl = "@Url.Content("~/api/health")";
	</script>
	<script src="~/js/utils.js" asp-append-version="true"></script>
	<script src="~/js/site.js" asp-append-version="true"></script>
	@RenderSection("Scripts", required: false)
</body>
</html>
